# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Test a narrow truncation range.
parameters = 7.1, 9.9, 7.0999999, 7.1000001
# Limited by the computation of mean and variance
# TODO: The mean/variance computation uses direct formulas and is numerically
# unstable for cases such as this (small range around the mean)
# or where the [lower, upper] interval is far from the mean.
tolerance.relative = 1e-7
mean = 7.1
variance = 1.13584123966337e-07
lower = 7.0999999
upper = 7.1000001
# Computed using Python with SciPy v1.6.0:
# mean, std, clip_a, clip_b = 7.1, 9.9, 7.0999999, 7.1000001
# a, b = (clip_a - mean) / std, (clip_b - mean) / std
# truncnorm.var(a, b, loc=mean, scale=std)
cdf.points = 7.0999999, 7.1, 7.1000001
cdf.values = 0, 0.5, 1
pdf.values = 5000000.00238838, 5000000.00238838, 5000000.00238838
